<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>

<script src="../js/jquery-3.7.1.js"></script>
<script>
  $(function(){
    $("#jumin1").on("keyup",function(){
      //숫자유무 체크해서 숫자 아니면 마지막 글자를 지운다
      numberCheck($(this));

      //6자리가 되면 커서 이동
      if($(this).val().length===6) $("#jumin2").focus();

    });

    $("#jumin2")
    .on("keyup",function(){
      //숫자유무 체크해서 숫자 아니면 마지막글자를 지운다->위에랑 공통의 기능이기 때문에 함수를 만들어서 활용하겠다
      numberCheck($(this));
    })
    .on("blur",function(obj){//커서를 잃었을 때
      //첫 글자가 1이면 남자, 2이면 여자를 checked해준다
      let firstCh=$(this).val().charAt(0); // val을 이용해서 값을 처리해야 한다

      if(firstCh ==="1")
      {
        $("#man").prop("checked",true);
      }
      else
      {
        $("#woman").prop("checked",true);
      } 
    });
  
    

    //숫자유무 체크해서 숫자 아니면 마지막글자를 지운다
    const numberCheck=function(obj)
    {
      let value=obj.val(); //여기서 가져온 값은 string
      if(isNaN(value))
      {
        let sliceValue=value.substr(0,value.length-1);//마지막 글자는 자르고 나머지를 다시 변수에 넣고 그 값을 다시 반영
        obj.val(sliceValue); //
      }
    }
  
  
  
  
  
  });
</script>
</head>

<body>
  <h1>on 이벤트 </h1>
  <h4>주민번호를 이용한 성별 체크</h4>
  <form>
   주민번호 : 
<input type="text" id="jumin1" size="6"/> - <input type="text" id="jumin2" size="7" /> <p/>
성별 : 
<input type="radio" value="남자" id="man" disabled name="gender" checked="checked"> 남자
<input type="radio" value="여자" id="woman" disabled name="gender"> 여자

</form>
</body>
</html>





